<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script src="https://cdn.bootcss.com/lodash.js/4.17.4/lodash.min.js"></script>
    <script>
        // 校招题 数组扁平化flattern 去重uniq 排序sort
        var arr = [[1,2,2],[3,4,5,5],[6,7,8,9,[11,12,[12,13,[14]]]],10]
        // 扁平化 打开 很多层  递归
        // typeof instanceof Array 展开 
        // newArr
        var newArr = []
        // function flatternArr (arr) {
        //     for (var i = 0; i < arr.length; i++) {
        //         if (arr[i] instanceof Array) {
        //             // for (j = 0; j < arr[i].length; j++) {
        //             //     newArr.push(arr[i][j])
        //             // }
        //             // 推平的功能可以交给下一辈用 所以调用自己 递归
        //             flatternArr(arr[i])
        //         } else {
        //             newArr.push(arr[i])
        //         }
        //     }
        // }
        // 上面是命令式编程。
        // 简化：函数式编程 代码是人与人交流的方式
        arr.forEach(function (item) {
            item instanceof Array ? _.flattenDeep(item) : newArr.push(item)
        })
        // flatternArr(arr)
        // console.log(newArr)
        newArr = _.flattenDeep(arr)
        console.log(newArr)

        var uniqArr = []
        uniqArr[0] = newArr[0]
        for (var i = 1; i < newArr.length; i++) {
            if (uniqArr.indexOf(newArr[i]) === -1) {
                uniqArr.push(newArr[i])
            }
        }
        console.log(uniqArr)

        const uniqarr2 = Array.from(new Set(newArr))
        console.log(uniqarr2)

        const sortArr = uniqarr2.sort(function(a, b) {
            return a-b
        })
        console.log(sortArr)

        console.log(_.sortedUniq(newArr))

        var users = [
            {'user':'fred', 'age': 48},
            {'user':'barney', 'age': 36},
            {'user':'fred', 'age': 40},
            {'user':'barney', 'age': 34},
        ]
        // user按照升序 age按照降序
        console.log(_.orderBy(users, ['user', 'age'], ['asc', 'desc']))
    </script>
</body>
</html>